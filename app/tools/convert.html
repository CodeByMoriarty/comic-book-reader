<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="../assets/fontawesome/css/all.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="../assets/libs/materialize/css/materialize.min.css"
    />
    <link rel="stylesheet" href="../assets/css/convert.css" />
    <title></title>
  </head>
  <body>
    <!-- <h5><i class="fas fa-tools"></i></h5> -->
    <div class="container center-align">
      <h5>Input File:</h5>

      <ul class="collection with-header">
        <!-- <li class="collection-header"><h4>First Names</h4></li> -->
        <div id="input-list"></div>
        <a
          class="waves-effect waves-light btn"
          id="input-list-add"
          onclick="renderer.onChooseInputFile()"
          >ADD</a
        >
      </ul>

      <!-- <a class="waves-effect waves-light btn" onclick="onChooseInputFile()"
          >ADD</a
        > -->

      <h5>
        Output Size (%):
        <i
          class="fas fa-question-circle tooltipped blue-text accent-1-text"
          data-position="bottom"
          data-tooltip="The size of the pages will be reduced to this percentage of the originals"
        ></i>
      </h5>
      <p class="range-field">
        <input type="range" min="10" max="100" id="size-slider" value="100" />
      </p>

      <h5>Output Format:</h5>
      <select class="browser-default">
        <!-- <option value="" disabled selected>Choose a format</option> -->
        <option value="zip">.cbz (zip)</option>
      </select>

      <h5>
        Output Folder:
        <i
          class="fas fa-question-circle tooltipped blue-text accent-1-text"
          data-position="bottom"
          data-tooltip="If a file with the same name already exists in the folder, a subfix will be added to the converted file's name so nothing is overwritten"
        ></i>
      </h5>

      <ul class="collection">
        <li class="collection-item" id="output-folder">
          <i>Select a Folder...</i>
        </li>
        <a
          class="waves-effect waves-light btn"
          onclick="renderer.onChooseOutputFolder()"
          >CHANGE</a
        >
      </ul>

      <a
        id="convert-button"
        class="btn modal-trigger blue-grey darken-3 disabled"
        onclick="renderer.onConvert()"
        data-target="modal1"
        >CONVERT</a
      >
    </div>

    <div id="modal1" class="modal">
      <div class="modal-content">
        <h5 id="modal-title">Converting File</h5>
        <p id="modal-info">...</p>
        <div class="progress" id="modal-loading-bar">
          <div class="indeterminate"></div>
        </div>
        <p id="modal-log"></p>
      </div>
      <div class="modal-footer" id="modal-button-container">
        <a
          href="#!"
          class="modal-close waves-effect waves-green btn-flat"
          id="modal-button-close"
          >Close</a
        >
      </div>
    </div>

    <script src="../assets/libs/materialize/js/materialize.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var elems = document.querySelectorAll(".modal");
        var instances = M.Modal.init(elems, {
          dismissible: false,
          onCloseStart: null,
        });

        elems = document.querySelectorAll(".tooltipped");
        instances = M.Tooltip.init(elems);
      });
    </script>
    <script>
      const renderer = require("./convert-renderer");
    </script>
  </body>
</html>
